# asm file.
# modified version of "exceptasm.s"

# asm file.
#
# TODO: this is an -mips2 match, the libultra version is instruction set `-mips3 -o32`.

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64

.include "macros.inc"


.section .text, "ax" 
glabel __osExceptionPreamble
/* 010D90 70010190 3C1A7001 */  lui   $k0, %hi(__osException) # $k0, 0x7001
/* 010D94 70010194 275A01A0 */  addiu $k0, %lo(__osException) # addiu $k0, $k0, 0x1a0
/* 010D98 70010198 03400008 */  jr    $k0
/* 010D9C 7001019C 00000000 */   nop   
glabel __osException
/* 010DA0 700101A0 3C1A8007 */  lui   $k0, %hi(__osThreadSave) # $k0, 0x8007
/* 010DA4 700101A4 275A8E30 */  addiu $k0, %lo(__osThreadSave) # addiu $k0, $k0, -0x71d0
/* 010DA8 700101A8 FF410020 */  sd    $at, 0x20($k0)
/* 010DAC 700101AC 401B6000 */  mfc0  $k1, $12
/* 010DB0 700101B0 AF5B0118 */  sw    $k1, 0x118($k0)
/* 010DB4 700101B4 2401FFFC */  li    $at, -4
/* 010DB8 700101B8 0361D824 */  and   $k1, $k1, $at
/* 010DBC 700101BC 409B6000 */  mtc0  $k1, $12
/* 010DC0 700101C0 FF480058 */  sd    $t0, 0x58($k0)
/* 010DC4 700101C4 FF490060 */  sd    $t1, 0x60($k0)
/* 010DC8 700101C8 FF4A0068 */  sd    $t2, 0x68($k0)
/* 010DCC 700101CC AF400018 */  sw    $zero, 0x18($k0)
/* 010DD0 700101D0 40086800 */  mfc0  $t0, $13
/* 010DD4 700101D4 03404025 */  move  $t0, $k0
/* 010DD8 700101D8 3C1A8002 */  lui   $k0, %hi(__osRunningThread) # $k0, 0x8002
/* 010DDC 700101DC 8F5A7730 */  lw    $k0, %lo(__osRunningThread)($k0)
/* 010DE0 700101E0 DD090020 */  ld    $t1, 0x20($t0)
/* 010DE4 700101E4 FF490020 */  sd    $t1, 0x20($k0)
/* 010DE8 700101E8 DD090118 */  ld    $t1, 0x118($t0)
/* 010DEC 700101EC FF490118 */  sd    $t1, 0x118($k0)
/* 010DF0 700101F0 DD090058 */  ld    $t1, 0x58($t0)
/* 010DF4 700101F4 FF490058 */  sd    $t1, 0x58($k0)
/* 010DF8 700101F8 DD090060 */  ld    $t1, 0x60($t0)
/* 010DFC 700101FC FF490060 */  sd    $t1, 0x60($k0)
/* 010E00 70010200 DD090068 */  ld    $t1, 0x68($t0)
/* 010E04 70010204 FF490068 */  sd    $t1, 0x68($k0)
/* 010E08 70010208 8F5B0118 */  lw    $k1, 0x118($k0)
/* 010E0C 7001020C 00004012 */  mflo  $t0
/* 010E10 70010210 FF480108 */  sd    $t0, 0x108($k0)
/* 010E14 70010214 00004010 */  mfhi  $t0
/* 010E18 70010218 3369FF00 */  andi  $t1, $k1, 0xff00
/* 010E1C 7001021C FF420028 */  sd    $v0, 0x28($k0)
/* 010E20 70010220 FF430030 */  sd    $v1, 0x30($k0)
/* 010E24 70010224 FF440038 */  sd    $a0, 0x38($k0)
/* 010E28 70010228 FF450040 */  sd    $a1, 0x40($k0)
/* 010E2C 7001022C FF460048 */  sd    $a2, 0x48($k0)
/* 010E30 70010230 FF470050 */  sd    $a3, 0x50($k0)
/* 010E34 70010234 FF4B0070 */  sd    $t3, 0x70($k0)
/* 010E38 70010238 FF4C0078 */  sd    $t4, 0x78($k0)
/* 010E3C 7001023C FF4D0080 */  sd    $t5, 0x80($k0)
/* 010E40 70010240 FF4E0088 */  sd    $t6, 0x88($k0)
/* 010E44 70010244 FF4F0090 */  sd    $t7, 0x90($k0)
/* 010E48 70010248 FF500098 */  sd    $s0, 0x98($k0)
/* 010E4C 7001024C FF5100A0 */  sd    $s1, 0xa0($k0)
/* 010E50 70010250 FF5200A8 */  sd    $s2, 0xa8($k0)
/* 010E54 70010254 FF5300B0 */  sd    $s3, 0xb0($k0)
/* 010E58 70010258 FF5400B8 */  sd    $s4, 0xb8($k0)
/* 010E5C 7001025C FF5500C0 */  sd    $s5, 0xc0($k0)
/* 010E60 70010260 FF5600C8 */  sd    $s6, 0xc8($k0)
/* 010E64 70010264 FF5700D0 */  sd    $s7, 0xd0($k0)
/* 010E68 70010268 FF5800D8 */  sd    $t8, 0xd8($k0)
/* 010E6C 7001026C FF5900E0 */  sd    $t9, 0xe0($k0)
/* 010E70 70010270 FF5C00E8 */  sd    $gp, 0xe8($k0)
/* 010E74 70010274 FF5D00F0 */  sd    $sp, 0xf0($k0)
/* 010E78 70010278 FF5E00F8 */  sd    $fp, 0xf8($k0)
/* 010E7C 7001027C FF5F0100 */  sd    $ra, 0x100($k0)
/* 010E80 70010280 1120000D */  beqz  $t1, .L700102B8
/* 010E84 70010284 FF480110 */   sd    $t0, 0x110($k0)
/* 010E88 70010288 3C088002 */  lui   $t0, %hi(__OSGlobalIntMask) 
/* 010E8C 7001028C 2508698C */  addiu $t0, %lo(__OSGlobalIntMask) # addiu $t0, $t0, 0x698c
/* 010E90 70010290 8D080000 */  lw    $t0, ($t0)
/* 010E94 70010294 2401FFFF */  li    $at, -1
/* 010E98 70010298 01014026 */  xor   $t0, $t0, $at
/* 010E9C 7001029C 3C01FFFF */  lui   $at, (0xFFFF00FF >> 16) # lui $at, 0xffff
/* 010EA0 700102A0 3108FF00 */  andi  $t0, $t0, 0xff00
/* 010EA4 700102A4 342100FF */  ori   $at, (0xFFFF00FF & 0xFFFF) # ori $at, $at, 0xff
/* 010EA8 700102A8 01284825 */  or    $t1, $t1, $t0
/* 010EAC 700102AC 0361D824 */  and   $k1, $k1, $at
/* 010EB0 700102B0 0369D825 */  or    $k1, $k1, $t1
/* 010EB4 700102B4 AF5B0118 */  sw    $k1, 0x118($k0)
.L700102B8:
/* 010EB8 700102B8 3C09A430 */  lui   $t1, %hi(0xA430000C) # $t1, 0xa430
/* 010EBC 700102BC 8D29000C */  lw    $t1, %lo(0xA430000C)($t1)
/* 010EC0 700102C0 1120000B */  beqz  $t1, .L700102F0
/* 010EC4 700102C4 00000000 */   nop   
/* 010EC8 700102C8 3C088002 */  lui   $t0, %hi(__OSGlobalIntMask) 
/* 010ECC 700102CC 2508698C */  addiu $t0, %lo(__OSGlobalIntMask) # addiu $t0, $t0, 0x698c
/* 010ED0 700102D0 8D080000 */  lw    $t0, ($t0)
/* 010ED4 700102D4 8F4C0128 */  lw    $t4, 0x128($k0)
/* 010ED8 700102D8 2401FFFF */  li    $at, -1
/* 010EDC 700102DC 00084402 */  srl   $t0, $t0, 0x10
/* 010EE0 700102E0 01014026 */  xor   $t0, $t0, $at
/* 010EE4 700102E4 3108003F */  andi  $t0, $t0, 0x3f
/* 010EE8 700102E8 010C4024 */  and   $t0, $t0, $t4
/* 010EEC 700102EC 01284825 */  or    $t1, $t1, $t0
.L700102F0:
/* 010EF0 700102F0 AF490128 */  sw    $t1, 0x128($k0)
/* 010EF4 700102F4 40087000 */  mfc0  $t0, $14
/* 010EF8 700102F8 AF48011C */  sw    $t0, 0x11c($k0)
/* 010EFC 700102FC 8F480018 */  lw    $t0, 0x18($k0)
/* 010F00 70010300 11000014 */  beqz  $t0, .L70010354
/* 010F04 70010304 00000000 */   nop   
/* 010F08 70010308 4448F800 */  cfc1  $t0, $31
/* 010F0C 7001030C 00000000 */  nop   
/* 010F10 70010310 AF48012C */  sw    $t0, 0x12c($k0)
/* 010F14 70010314 F7400130 */  sdc1  $f0, 0x130($k0)
/* 010F18 70010318 F7420138 */  sdc1  $f2, 0x138($k0)
/* 010F1C 7001031C F7440140 */  sdc1  $f4, 0x140($k0)
/* 010F20 70010320 F7460148 */  sdc1  $f6, 0x148($k0)
/* 010F24 70010324 F7480150 */  sdc1  $f8, 0x150($k0)
/* 010F28 70010328 F74A0158 */  sdc1  $f10, 0x158($k0)
/* 010F2C 7001032C F74C0160 */  sdc1  $f12, 0x160($k0)
/* 010F30 70010330 F74E0168 */  sdc1  $f14, 0x168($k0)
/* 010F34 70010334 F7500170 */  sdc1  $f16, 0x170($k0)
/* 010F38 70010338 F7520178 */  sdc1  $f18, 0x178($k0)
/* 010F3C 7001033C F7540180 */  sdc1  $f20, 0x180($k0)
/* 010F40 70010340 F7560188 */  sdc1  $f22, 0x188($k0)
/* 010F44 70010344 F7580190 */  sdc1  $f24, 0x190($k0)
/* 010F48 70010348 F75A0198 */  sdc1  $f26, 0x198($k0)
/* 010F4C 7001034C F75C01A0 */  sdc1  $f28, 0x1a0($k0)
/* 010F50 70010350 F75E01A8 */  sdc1  $f30, 0x1a8($k0)
.L70010354:
/* 010F54 70010354 40086800 */  mfc0  $t0, $13
/* 010F58 70010358 AF480120 */  sw    $t0, 0x120($k0)
/* 010F5C 7001035C 24090002 */  li    $t1, 2
/* 010F60 70010360 A7490010 */  sh    $t1, 0x10($k0)
/* 010F64 70010364 3109007C */  andi  $t1, $t0, 0x7c
/* 010F68 70010368 240A0024 */  li    $t2, 36
/* 010F6C 7001036C 112A00B0 */  beq   $t1, $t2, .L70010630
/* 010F70 70010370 00000000 */   nop   
/* 010F74 70010374 240A002C */  li    $t2, 44
/* 010F78 70010378 112A00FF */  beq   $t1, $t2, .L70010778
/* 010F7C 7001037C 00000000 */   nop   
/* 010F80 70010380 240A0000 */  li    $t2, 0
/* 010F84 70010384 152A00C3 */  bne   $t1, $t2, .L70010694
/* 010F88 70010388 00000000 */   nop   
/* 010F8C 7001038C 03688024 */  and   $s0, $k1, $t0
glabel next_interrupt
.L70010390:
/* 010F90 70010390 3209FF00 */  andi  $t1, $s0, 0xff00
/* 010F94 70010394 00095302 */  srl   $t2, $t1, 0xc
/* 010F98 70010398 15400003 */  bnez  $t2, .L700103A8
/* 010F9C 7001039C 00000000 */   nop   
/* 010FA0 700103A0 00095202 */  srl   $t2, $t1, 8
/* 010FA4 700103A4 214A0010 */  addi  $t2, $t2, 0x10
.L700103A8:
/* 010FA8 700103A8 3C018003 */  lui   $at, %hi(__osIntOffTable)
/* 010FAC 700103AC 002A0821 */  addu  $at, $at, $t2
/* 010FB0 700103B0 902A9440 */  lbu   $t2, %lo(__osIntOffTable)($at)
/* 010FB4 700103B4 3C018003 */  lui   $at, %hi(__osIntTable)
/* 010FB8 700103B8 002A0821 */  addu  $at, $at, $t2
/* 010FBC 700103BC 8C2A9460 */  lw    $t2, %lo(__osIntTable)($at)
/* 010FC0 700103C0 01400008 */  jr    $t2
/* 010FC4 700103C4 00000000 */   nop   
glabel IP6_Hdlr
/* 010FC8 700103C8 2401DFFF */  li    $at, -8193
/* 010FCC 700103CC 1000FFF0 */  b     .L70010390
/* 010FD0 700103D0 02018024 */   and   $s0, $s0, $at
glabel IP7_Hdlr
/* 010FD4 700103D4 2401BFFF */  li    $at, -16385
/* 010FD8 700103D8 1000FFED */  b     .L70010390
/* 010FDC 700103DC 02018024 */   and   $s0, $s0, $at
glabel counter
/* 010FE0 700103E0 40095800 */  mfc0  $t1, $11
/* 010FE4 700103E4 40895800 */  mtc0  $t1, $11
/* 010FE8 700103E8 0C0041B1 */  jal   send_mesg
/* 010FEC 700103EC 24040018 */   li    $a0, 24
/* 010FF0 700103F0 3C01FFFF */  lui   $at, (0xFFFF7FFF >> 16) # lui $at, 0xffff
/* 010FF4 700103F4 34217FFF */  ori   $at, (0xFFFF7FFF & 0xFFFF) # ori $at, $at, 0x7fff
/* 010FF8 700103F8 1000FFE5 */  b     .L70010390
/* 010FFC 700103FC 02018024 */   and   $s0, $s0, $at
glabel cart
/* 011000 70010400 2401F7FF */  li    $at, -2049
/* 011004 70010404 02018024 */  and   $s0, $s0, $at
/* 011008 70010408 240A0004 */  li    $t2, 4
/* 01100C 7001040C 3C018002 */  lui   $at, %hi(__osHwIntTable)
/* 011010 70010410 002A0821 */  addu  $at, $at, $t2
/* 011014 70010414 8C2A7700 */  lw    $t2, %lo(__osHwIntTable)($at)
/* 011018 70010418 3C1D8006 */  lui   $sp, %hi(leoDiskStack) # $sp, 0x8006
/* 01101C 7001041C 27BD7DF0 */  addiu $sp, %lo(leoDiskStack) # addiu $sp, $sp, 0x7df0
/* 011020 70010420 24040010 */  li    $a0, 16
/* 011024 70010424 11400007 */  beqz  $t2, .L70010444
/* 011028 70010428 27BD0FF0 */   addiu $sp, $sp, 0xff0
/* 01102C 7001042C 0140F809 */  jalr  $t2
/* 011030 70010430 00000000 */  nop   
/* 011034 70010434 10400003 */  beqz  $v0, .L70010444
/* 011038 70010438 00000000 */   nop   
/* 01103C 7001043C 10000082 */  b     .L70010648
/* 011040 70010440 00000000 */   nop   
.L70010444:
/* 011044 70010444 0C0041B1 */  jal   send_mesg
/* 011048 70010448 00000000 */   nop   
/* 01104C 7001044C 1000FFD0 */  b     .L70010390
/* 011050 70010450 00000000 */   nop   
glabel rcp
/* 011054 70010454 3C088002 */  lui   $t0, %hi(__OSGlobalIntMask) 
/* 011058 70010458 2508698C */  addiu $t0, %lo(__OSGlobalIntMask) # addiu $t0, $t0, 0x698c
/* 01105C 7001045C 8D080000 */  lw    $t0, ($t0)
/* 011060 70010460 3C11A430 */  lui   $s1, %hi(0xA4300008) # $s1, 0xa430
/* 011064 70010464 8E310008 */  lw    $s1, %lo(0xA4300008)($s1)
/* 011068 70010468 00084402 */  srl   $t0, $t0, 0x10
/* 01106C 7001046C 02288824 */  and   $s1, $s1, $t0
/* 011070 70010470 32290001 */  andi  $t1, $s1, 1
/* 011074 70010474 11200013 */  beqz  $t1, .L700104C4
/* 011078 70010478 00000000 */   nop   
/* 01107C 7001047C 3C0CA404 */  lui   $t4, %hi(0xA4040010) # $t4, 0xa404
/* 011080 70010480 8D8C0010 */  lw    $t4, %lo(0xA4040010)($t4)
/* 011084 70010484 24090008 */  li    $t1, 8
/* 011088 70010488 3C01A404 */  lui   $at, %hi(0xA4040010) # $at, 0xa404
/* 01108C 7001048C 318C0300 */  andi  $t4, $t4, 0x300
/* 011090 70010490 3231003E */  andi  $s1, $s1, 0x3e
/* 011094 70010494 11800007 */  beqz  $t4, .L700104B4
/* 011098 70010498 AC290010 */   sw    $t1, %lo(0xA4040010)($at)
/* 01109C 7001049C 0C0041B1 */  jal   send_mesg
/* 0110A0 700104A0 24040020 */   li    $a0, 32
/* 0110A4 700104A4 12200038 */  beqz  $s1, .L70010588
/* 0110A8 700104A8 00000000 */   nop   
/* 0110AC 700104AC 10000005 */  b     .L700104C4
/* 0110B0 700104B0 00000000 */   nop   
.L700104B4:
/* 0110B4 700104B4 0C0041B1 */  jal   send_mesg
/* 0110B8 700104B8 24040058 */   li    $a0, 88
/* 0110BC 700104BC 12200032 */  beqz  $s1, .L70010588
/* 0110C0 700104C0 00000000 */   nop   
.L700104C4:
/* 0110C4 700104C4 32290008 */  andi  $t1, $s1, 8
/* 0110C8 700104C8 11200007 */  beqz  $t1, .L700104E8
/* 0110CC 700104CC 3C01A440 */   lui   $at, %hi(0xA4400010) # $at, 0xa440
/* 0110D0 700104D0 32310037 */  andi  $s1, $s1, 0x37
/* 0110D4 700104D4 AC200010 */  sw    $zero, %lo(0xA4400010)($at)
/* 0110D8 700104D8 0C0041B1 */  jal   send_mesg
/* 0110DC 700104DC 24040038 */   li    $a0, 56
/* 0110E0 700104E0 12200029 */  beqz  $s1, .L70010588
/* 0110E4 700104E4 00000000 */   nop   
.L700104E8:
/* 0110E8 700104E8 32290004 */  andi  $t1, $s1, 4
/* 0110EC 700104EC 11200009 */  beqz  $t1, .L70010514
/* 0110F0 700104F0 00000000 */   nop   
/* 0110F4 700104F4 24090001 */  li    $t1, 1
/* 0110F8 700104F8 3C01A450 */  lui   $at, %hi(0xA450000C) # $at, 0xa450
/* 0110FC 700104FC 3231003B */  andi  $s1, $s1, 0x3b
/* 011100 70010500 AC29000C */  sw    $t1, %lo(0xA450000C)($at)
/* 011104 70010504 0C0041B1 */  jal   send_mesg
/* 011108 70010508 24040030 */   li    $a0, 48
/* 01110C 7001050C 1220001E */  beqz  $s1, .L70010588
/* 011110 70010510 00000000 */   nop   
.L70010514:
/* 011114 70010514 32290002 */  andi  $t1, $s1, 2
/* 011118 70010518 11200007 */  beqz  $t1, .L70010538
/* 01111C 7001051C 3C01A480 */   lui   $at, %hi(0xA4800018) # $at, 0xa480
/* 011120 70010520 3231003D */  andi  $s1, $s1, 0x3d
/* 011124 70010524 AC200018 */  sw    $zero, %lo(0xA4800018)($at)
/* 011128 70010528 0C0041B1 */  jal   send_mesg
/* 01112C 7001052C 24040028 */   li    $a0, 40
/* 011130 70010530 12200015 */  beqz  $s1, .L70010588
/* 011134 70010534 00000000 */   nop   
.L70010538:
/* 011138 70010538 32290010 */  andi  $t1, $s1, 0x10
/* 01113C 7001053C 11200009 */  beqz  $t1, .L70010564
/* 011140 70010540 00000000 */   nop   
/* 011144 70010544 24090002 */  li    $t1, 2
/* 011148 70010548 3C01A460 */  lui   $at, %hi(0xA4600010) # $at, 0xa460
/* 01114C 7001054C 3231002F */  andi  $s1, $s1, 0x2f
/* 011150 70010550 AC290010 */  sw    $t1, %lo(0xA4600010)($at)
/* 011154 70010554 0C0041B1 */  jal   send_mesg
/* 011158 70010558 24040040 */   li    $a0, 64
/* 01115C 7001055C 1220000A */  beqz  $s1, .L70010588
/* 011160 70010560 00000000 */   nop   
.L70010564:
/* 011164 70010564 32290020 */  andi  $t1, $s1, 0x20
/* 011168 70010568 11200007 */  beqz  $t1, .L70010588
/* 01116C 7001056C 00000000 */   nop   
/* 011170 70010570 24090800 */  li    $t1, 2048
/* 011174 70010574 3C01A430 */  lui   $at, 0xa430
/* 011178 70010578 3231001F */  andi  $s1, $s1, 0x1f
/* 01117C 7001057C AC290000 */  sw    $t1, ($at)
/* 011180 70010580 0C0041B1 */  jal   send_mesg
/* 011184 70010584 24040048 */   li    $a0, 72
.L70010588:
/* 011188 70010588 2401FBFF */  li    $at, -1025
/* 01118C 7001058C 1000FF80 */  b     .L70010390
/* 011190 70010590 02018024 */   and   $s0, $s0, $at
glabel prenmi
/* 011194 70010594 8F5B0118 */  lw    $k1, 0x118($k0)
/* 011198 70010598 2401EFFF */  li    $at, -4097
/* 01119C 7001059C 3C098002 */  lui   $t1, %hi(__osShutdown) 
/* 0111A0 700105A0 0361D824 */  and   $k1, $k1, $at
/* 0111A4 700105A4 AF5B0118 */  sw    $k1, 0x118($k0)
/* 0111A8 700105A8 25296988 */  addiu $t1, %lo(__osShutdown) # addiu $t1, $t1, 0x6988
/* 0111AC 700105AC 8D2A0000 */  lw    $t2, ($t1)
/* 0111B0 700105B0 11400003 */  beqz  $t2, .L700105C0
/* 0111B4 700105B4 2401EFFF */   li    $at, -4097
/* 0111B8 700105B8 10000023 */  b     .L70010648
/* 0111BC 700105BC 02018024 */   and   $s0, $s0, $at
.L700105C0:
/* 0111C0 700105C0 240A0001 */  li    $t2, 1
/* 0111C4 700105C4 AD2A0000 */  sw    $t2, ($t1)
/* 0111C8 700105C8 0C0041B1 */  jal   send_mesg
/* 0111CC 700105CC 24040070 */   li    $a0, 112
/* 0111D0 700105D0 3C0A8002 */  lui   $t2, %hi(__osRunQueue) 
/* 0111D4 700105D4 8D4A7728 */  lw    $t2, %lo(__osRunQueue)($t2)
/* 0111D8 700105D8 2401EFFF */  li    $at, -4097
/* 0111DC 700105DC 02018024 */  and   $s0, $s0, $at
/* 0111E0 700105E0 8D5B0118 */  lw    $k1, 0x118($t2)
/* 0111E4 700105E4 0361D824 */  and   $k1, $k1, $at
/* 0111E8 700105E8 10000017 */  b     .L70010648
/* 0111EC 700105EC AD5B0118 */   sw    $k1, 0x118($t2)
glabel sw2
/* 0111F0 700105F0 2401FDFF */  li    $at, -513
/* 0111F4 700105F4 01014024 */  and   $t0, $t0, $at
/* 0111F8 700105F8 40886800 */  mtc0  $t0, $13
/* 0111FC 700105FC 0C0041B1 */  jal   send_mesg
/* 011200 70010600 24040008 */   li    $a0, 8
/* 011204 70010604 2401FDFF */  li    $at, -513
/* 011208 70010608 1000FF61 */  b     .L70010390
/* 01120C 7001060C 02018024 */   and   $s0, $s0, $at
glabel swl
/* 011210 70010610 2401FEFF */  li    $at, -257
/* 011214 70010614 01014024 */  and   $t0, $t0, $at
/* 011218 70010618 40886800 */  mtc0  $t0, $13
/* 01121C 7001061C 0C0041B1 */  jal   send_mesg
/* 011220 70010620 24040000 */   li    $a0, 0
/* 011224 70010624 2401FEFF */  li    $at, -257
/* 011228 70010628 1000FF59 */  b     .L70010390
/* 01122C 7001062C 02018024 */   and   $s0, $s0, $at
.L70010630:
/* 011230 70010630 24090001 */  li    $t1, 1
/* 011234 70010634 A7490012 */  sh    $t1, 0x12($k0)
/* 011238 70010638 0C0041B1 */  jal   send_mesg
/* 01123C 7001063C 24040050 */   li    $a0, 80
/* 011240 70010640 10000001 */  b     .L70010648
/* 011244 70010644 00000000 */   nop   
glabel redispatch
.L70010648:
/* 011248 70010648 3C0A8002 */  lui   $t2, %hi(__osRunQueue) 
/* 01124C 7001064C 8D4A7728 */  lw    $t2, %lo(__osRunQueue)($t2)
/* 011250 70010650 8F490004 */  lw    $t1, 4($k0)
/* 011254 70010654 8D4B0004 */  lw    $t3, 4($t2)
/* 011258 70010658 012B082A */  slt   $at, $t1, $t3
/* 01125C 7001065C 10200007 */  beqz  $at, .L7001067C
/* 011260 70010660 00000000 */   nop   
/* 011264 70010664 3C048002 */  lui   $a0, %hi(__osRunQueue)
/* 011268 70010668 03402825 */  move  $a1, $k0
/* 01126C 7001066C 0C00422B */  jal   __osEnqueueThread
/* 011270 70010670 24847728 */   addiu $a0, %lo(__osRunQueue) # addiu $a0, $a0, 0x7728
/* 011274 70010674 08004241 */  j     __osDispatchThread
/* 011278 70010678 00000000 */   nop   

glabel enqueueRunning
.L7001067C:
/* 01127C 7001067C 3C098002 */  lui   $t1, %hi(__osRunQueue) 
/* 011280 70010680 25297728 */  addiu $t1, %lo(__osRunQueue) # addiu $t1, $t1, 0x7728
/* 011284 70010684 8D2A0000 */  lw    $t2, ($t1)
/* 011288 70010688 AF4A0000 */  sw    $t2, ($k0)
/* 01128C 7001068C 08004241 */  j     __osDispatchThread
/* 011290 70010690 AD3A0000 */   sw    $k0, ($t1)

.L70010694:
/* 011294 70010694 3C018002 */  lui   $at, %hi(__osFaultedThread)
/* 011298 70010698 AC3A7734 */  sw    $k0, %lo(__osFaultedThread)($at)
/* 01129C 7001069C 24090001 */  li    $t1, 1
/* 0112A0 700106A0 A7490010 */  sh    $t1, 0x10($k0)
/* 0112A4 700106A4 24090002 */  li    $t1, 2
/* 0112A8 700106A8 A7490012 */  sh    $t1, 0x12($k0)
/* 0112AC 700106AC 400A4000 */  mfc0  $t2, $8
/* 0112B0 700106B0 AF4A0124 */  sw    $t2, 0x124($k0)
/* 0112B4 700106B4 0C0041B1 */  jal   send_mesg
/* 0112B8 700106B8 24040060 */   li    $a0, 96
/* 0112BC 700106BC 08004241 */  j     __osDispatchThread
/* 0112C0 700106C0 00000000 */   nop   

glabel send_mesg
/* 0112C4 700106C4 3C0A8006 */  lui   $t2, %hi(__osEventStateTab) 
/* 0112C8 700106C8 254A6A10 */  addiu $t2, %lo(__osEventStateTab) # addiu $t2, $t2, 0x6a10
/* 0112CC 700106CC 01445021 */  addu  $t2, $t2, $a0
/* 0112D0 700106D0 8D490000 */  lw    $t1, ($t2)
/* 0112D4 700106D4 03E09025 */  move  $s2, $ra
/* 0112D8 700106D8 11200025 */  beqz  $t1, .L70010770
/* 0112DC 700106DC 00000000 */   nop   
/* 0112E0 700106E0 8D2B0008 */  lw    $t3, 8($t1)
/* 0112E4 700106E4 8D2C0010 */  lw    $t4, 0x10($t1)
/* 0112E8 700106E8 016C082A */  slt   $at, $t3, $t4
/* 0112EC 700106EC 10200020 */  beqz  $at, .L70010770
/* 0112F0 700106F0 00000000 */   nop   
/* 0112F4 700106F4 8D2D000C */  lw    $t5, 0xc($t1)
/* 0112F8 700106F8 01AB6821 */  addu  $t5, $t5, $t3
/* 0112FC 700106FC 01AC001A */  div   $zero, $t5, $t4
/* 011300 70010700 15800002 */  bnez  $t4, .L7001070C
/* 011304 70010704 00000000 */   nop   
/* 011308 70010708 0007000D */  break 7
.L7001070C:
/* 01130C 7001070C 2401FFFF */  li    $at, -1
/* 011310 70010710 15810004 */  bne   $t4, $at, .L70010724
/* 011314 70010714 3C018000 */   lui   $at, 0x8000
/* 011318 70010718 15A10002 */  bne   $t5, $at, .L70010724
/* 01131C 7001071C 00000000 */   nop   
/* 011320 70010720 0006000D */  break 6
.L70010724:
/* 011324 70010724 8D2C0014 */  lw    $t4, 0x14($t1)
/* 011328 70010728 00006810 */  mfhi  $t5
/* 01132C 7001072C 000D6880 */  sll   $t5, $t5, 2
/* 011330 70010730 018D6021 */  addu  $t4, $t4, $t5
/* 011334 70010734 8D4D0004 */  lw    $t5, 4($t2)
/* 011338 70010738 256A0001 */  addiu $t2, $t3, 1
/* 01133C 7001073C AD8D0000 */  sw    $t5, ($t4)
/* 011340 70010740 AD2A0008 */  sw    $t2, 8($t1)
/* 011344 70010744 8D2A0000 */  lw    $t2, ($t1)
/* 011348 70010748 8D4B0000 */  lw    $t3, ($t2)
/* 01134C 7001074C 11600008 */  beqz  $t3, .L70010770
/* 011350 70010750 00000000 */   nop   
/* 011354 70010754 0C00423D */  jal   __osPopThread
/* 011358 70010758 01202025 */   move  $a0, $t1
/* 01135C 7001075C 00405025 */  move  $t2, $v0
/* 011360 70010760 3C048002 */  lui   $a0, %hi(__osRunQueue)
/* 011364 70010764 01402825 */  move  $a1, $t2
/* 011368 70010768 0C00422B */  jal   __osEnqueueThread
/* 01136C 7001076C 24847728 */   addiu $a0, %lo(__osRunQueue) # addiu $a0, $a0, 0x7728
.L70010770:
/* 011370 70010770 02400008 */  jr    $s2
/* 011374 70010774 00000000 */   nop   
glabel handle_CpU
.L70010778:
/* 011378 70010778 3C013000 */  lui   $at, 0x3000
/* 01137C 7001077C 01014824 */  and   $t1, $t0, $at
/* 011380 70010780 00094F02 */  srl   $t1, $t1, 0x1c
/* 011384 70010784 240A0001 */  li    $t2, 1
/* 011388 70010788 152AFFC2 */  bne   $t1, $t2, .L70010694
/* 01138C 7001078C 00000000 */   nop   
/* 011390 70010790 8F5B0118 */  lw    $k1, 0x118($k0)
/* 011394 70010794 3C012000 */  lui   $at, 0x2000
/* 011398 70010798 24090001 */  li    $t1, 1
/* 01139C 7001079C 0361D825 */  or    $k1, $k1, $at
/* 0113A0 700107A0 AF490018 */  sw    $t1, 0x18($k0)
/* 0113A4 700107A4 1000FFB5 */  b     .L7001067C
/* 0113A8 700107A8 AF5B0118 */   sw    $k1, 0x118($k0)
glabel __osEnqueueAndYield
/* 0113AC 700107AC 3C058002 */  lui   $a1, %hi(__osRunningThread)
/* 0113B0 700107B0 8CA57730 */  lw    $a1, %lo(__osRunningThread)($a1)
/* 0113B4 700107B4 40086000 */  mfc0  $t0, $12
/* 0113B8 700107B8 8CBB0018 */  lw    $k1, 0x18($a1)
/* 0113BC 700107BC 35080002 */  ori   $t0, $t0, 2
/* 0113C0 700107C0 ACA80118 */  sw    $t0, 0x118($a1)
/* 0113C4 700107C4 FCB00098 */  sd    $s0, 0x98($a1)
/* 0113C8 700107C8 FCB100A0 */  sd    $s1, 0xa0($a1)
/* 0113CC 700107CC FCB200A8 */  sd    $s2, 0xa8($a1)
/* 0113D0 700107D0 FCB300B0 */  sd    $s3, 0xb0($a1)
/* 0113D4 700107D4 FCB400B8 */  sd    $s4, 0xb8($a1)
/* 0113D8 700107D8 FCB500C0 */  sd    $s5, 0xc0($a1)
/* 0113DC 700107DC FCB600C8 */  sd    $s6, 0xc8($a1)
/* 0113E0 700107E0 FCB700D0 */  sd    $s7, 0xd0($a1)
/* 0113E4 700107E4 FCBC00E8 */  sd    $gp, 0xe8($a1)
/* 0113E8 700107E8 FCBD00F0 */  sd    $sp, 0xf0($a1)
/* 0113EC 700107EC FCBE00F8 */  sd    $fp, 0xf8($a1)
/* 0113F0 700107F0 FCBF0100 */  sd    $ra, 0x100($a1)
/* 0113F4 700107F4 13600009 */  beqz  $k1, .L7001081C
/* 0113F8 700107F8 ACBF011C */   sw    $ra, 0x11c($a1)
/* 0113FC 700107FC 445BF800 */  cfc1  $k1, $31
/* 011400 70010800 F4B40180 */  sdc1  $f20, 0x180($a1)
/* 011404 70010804 F4B60188 */  sdc1  $f22, 0x188($a1)
/* 011408 70010808 F4B80190 */  sdc1  $f24, 0x190($a1)
/* 01140C 7001080C F4BA0198 */  sdc1  $f26, 0x198($a1)
/* 011410 70010810 F4BC01A0 */  sdc1  $f28, 0x1a0($a1)
/* 011414 70010814 F4BE01A8 */  sdc1  $f30, 0x1a8($a1)
/* 011418 70010818 ACBB012C */  sw    $k1, 0x12c($a1)
.L7001081C:
/* 01141C 7001081C 8CBB0118 */  lw    $k1, 0x118($a1)
/* 011420 70010820 3369FF00 */  andi  $t1, $k1, 0xff00
/* 011424 70010824 1120000D */  beqz  $t1, .L7001085C
/* 011428 70010828 00000000 */   nop   
/* 01142C 7001082C 3C088002 */  lui   $t0, %hi(__OSGlobalIntMask) 
/* 011430 70010830 2508698C */  addiu $t0, %lo(__OSGlobalIntMask) # addiu $t0, $t0, 0x698c
/* 011434 70010834 8D080000 */  lw    $t0, ($t0)
/* 011438 70010838 2401FFFF */  li    $at, -1
/* 01143C 7001083C 01014026 */  xor   $t0, $t0, $at
/* 011440 70010840 3C01FFFF */  lui   $at, (0xFFFF00FF >> 16) # lui $at, 0xffff
/* 011444 70010844 3108FF00 */  andi  $t0, $t0, 0xff00
/* 011448 70010848 342100FF */  ori   $at, (0xFFFF00FF & 0xFFFF) # ori $at, $at, 0xff
/* 01144C 7001084C 01284825 */  or    $t1, $t1, $t0
/* 011450 70010850 0361D824 */  and   $k1, $k1, $at
/* 011454 70010854 0369D825 */  or    $k1, $k1, $t1
/* 011458 70010858 ACBB0118 */  sw    $k1, 0x118($a1)
.L7001085C:
/* 01145C 7001085C 3C1BA430 */  lui   $k1, %hi(0xA430000C) # $k1, 0xa430
/* 011460 70010860 8F7B000C */  lw    $k1, %lo(0xA430000C)($k1)
/* 011464 70010864 1360000B */  beqz  $k1, .L70010894
/* 011468 70010868 00000000 */   nop   
/* 01146C 7001086C 3C1A8002 */  lui   $k0, %hi(__OSGlobalIntMask) # $k0, 0x8002
/* 011470 70010870 275A698C */  addiu $k0, %lo(__OSGlobalIntMask) # addiu $k0, $k0, 0x698c
/* 011474 70010874 8F5A0000 */  lw    $k0, ($k0)
/* 011478 70010878 8CA80128 */  lw    $t0, 0x128($a1)
/* 01147C 7001087C 2401FFFF */  li    $at, -1
/* 011480 70010880 001AD402 */  srl   $k0, $k0, 0x10
/* 011484 70010884 0341D026 */  xor   $k0, $k0, $at
/* 011488 70010888 335A003F */  andi  $k0, $k0, 0x3f
/* 01148C 7001088C 0348D024 */  and   $k0, $k0, $t0
/* 011490 70010890 037AD825 */  or    $k1, $k1, $k0
.L70010894:
/* 011494 70010894 10800003 */  beqz  $a0, .L700108A4
/* 011498 70010898 ACBB0128 */   sw    $k1, 0x128($a1)
/* 01149C 7001089C 0C00422B */  jal   __osEnqueueThread
/* 0114A0 700108A0 00000000 */   nop   
.L700108A4:
/* 0114A4 700108A4 08004241 */  j     __osDispatchThread
/* 0114A8 700108A8 00000000 */   nop   

glabel __osEnqueueThread
/* 0114AC 700108AC 8C980000 */  lw    $t8, ($a0)
/* 0114B0 700108B0 8CAF0004 */  lw    $t7, 4($a1)
/* 0114B4 700108B4 0080C825 */  move  $t9, $a0
/* 0114B8 700108B8 8F0E0004 */  lw    $t6, 4($t8)
/* 0114BC 700108BC 01CF082A */  slt   $at, $t6, $t7
/* 0114C0 700108C0 14200007 */  bnez  $at, .L700108E0
/* 0114C4 700108C4 00000000 */   nop   
.L700108C8:
/* 0114C8 700108C8 0300C825 */  move  $t9, $t8
/* 0114CC 700108CC 8F180000 */  lw    $t8, ($t8)
/* 0114D0 700108D0 8F0E0004 */  lw    $t6, 4($t8)
/* 0114D4 700108D4 01CF082A */  slt   $at, $t6, $t7
/* 0114D8 700108D8 1020FFFB */  beqz  $at, .L700108C8
/* 0114DC 700108DC 00000000 */   nop   
.L700108E0:
/* 0114E0 700108E0 8F380000 */  lw    $t8, ($t9)
/* 0114E4 700108E4 ACB80000 */  sw    $t8, ($a1)
/* 0114E8 700108E8 AF250000 */  sw    $a1, ($t9)
/* 0114EC 700108EC 03E00008 */  jr    $ra
/* 0114F0 700108F0 ACA40008 */   sw    $a0, 8($a1)

glabel __osPopThread
/* 0114F4 700108F4 8C820000 */  lw    $v0, ($a0)
/* 0114F8 700108F8 8C590000 */  lw    $t9, ($v0)
/* 0114FC 700108FC 03E00008 */  jr    $ra
/* 011500 70010900 AC990000 */   sw    $t9, ($a0)

glabel __osDispatchThread
/* 011504 70010904 3C048002 */  lui   $a0, %hi(__osRunQueue)
/* 011508 70010908 0C00423D */  jal   __osPopThread
/* 01150C 7001090C 24847728 */   addiu $a0, %lo(__osRunQueue) # addiu $a0, $a0, 0x7728
/* 011510 70010910 3C018002 */  lui   $at, %hi(__osRunningThread)
/* 011514 70010914 AC227730 */  sw    $v0, %lo(__osRunningThread)($at)
/* 011518 70010918 24080004 */  li    $t0, 4
/* 01151C 7001091C A4480010 */  sh    $t0, 0x10($v0)
/* 011520 70010920 0040D025 */  move  $k0, $v0
glabel __osDispatchThreadSave
/* 011524 70010924 3C088002 */  lui   $t0, %hi(__OSGlobalIntMask) 
/* 011528 70010928 8F5B0118 */  lw    $k1, 0x118($k0)
/* 01152C 7001092C 2508698C */  addiu $t0, %lo(__OSGlobalIntMask) # addiu $t0, $t0, 0x698c
/* 011530 70010930 8D080000 */  lw    $t0, ($t0)
/* 011534 70010934 3C01FFFF */  lui   $at, (0xFFFF00FF >> 16) # lui $at, 0xffff
/* 011538 70010938 3369FF00 */  andi  $t1, $k1, 0xff00
/* 01153C 7001093C 342100FF */  ori   $at, (0xFFFF00FF & 0xFFFF) # ori $at, $at, 0xff
/* 011540 70010940 3108FF00 */  andi  $t0, $t0, 0xff00
/* 011544 70010944 01284824 */  and   $t1, $t1, $t0
/* 011548 70010948 0361D824 */  and   $k1, $k1, $at
/* 01154C 7001094C 0369D825 */  or    $k1, $k1, $t1
/* 011550 70010950 409B6000 */  mtc0  $k1, $12
/* 011554 70010954 DF5B0108 */  ld    $k1, 0x108($k0)
/* 011558 70010958 DF410020 */  ld    $at, 0x20($k0)
/* 01155C 7001095C DF420028 */  ld    $v0, 0x28($k0)
/* 011560 70010960 03600013 */  mtlo  $k1
/* 011564 70010964 DF5B0110 */  ld    $k1, 0x110($k0)
/* 011568 70010968 DF430030 */  ld    $v1, 0x30($k0)
/* 01156C 7001096C DF440038 */  ld    $a0, 0x38($k0)
/* 011570 70010970 DF450040 */  ld    $a1, 0x40($k0)
/* 011574 70010974 DF460048 */  ld    $a2, 0x48($k0)
/* 011578 70010978 DF470050 */  ld    $a3, 0x50($k0)
/* 01157C 7001097C DF480058 */  ld    $t0, 0x58($k0)
/* 011580 70010980 DF490060 */  ld    $t1, 0x60($k0)
/* 011584 70010984 DF4A0068 */  ld    $t2, 0x68($k0)
/* 011588 70010988 DF4B0070 */  ld    $t3, 0x70($k0)
/* 01158C 7001098C DF4C0078 */  ld    $t4, 0x78($k0)
/* 011590 70010990 DF4D0080 */  ld    $t5, 0x80($k0)
/* 011594 70010994 DF4E0088 */  ld    $t6, 0x88($k0)
/* 011598 70010998 DF4F0090 */  ld    $t7, 0x90($k0)
/* 01159C 7001099C DF500098 */  ld    $s0, 0x98($k0)
/* 0115A0 700109A0 DF5100A0 */  ld    $s1, 0xa0($k0)
/* 0115A4 700109A4 DF5200A8 */  ld    $s2, 0xa8($k0)
/* 0115A8 700109A8 DF5300B0 */  ld    $s3, 0xb0($k0)
/* 0115AC 700109AC DF5400B8 */  ld    $s4, 0xb8($k0)
/* 0115B0 700109B0 DF5500C0 */  ld    $s5, 0xc0($k0)
/* 0115B4 700109B4 DF5600C8 */  ld    $s6, 0xc8($k0)
/* 0115B8 700109B8 DF5700D0 */  ld    $s7, 0xd0($k0)
/* 0115BC 700109BC DF5800D8 */  ld    $t8, 0xd8($k0)
/* 0115C0 700109C0 DF5900E0 */  ld    $t9, 0xe0($k0)
/* 0115C4 700109C4 DF5C00E8 */  ld    $gp, 0xe8($k0)
/* 0115C8 700109C8 03600011 */  mthi  $k1
/* 0115CC 700109CC DF5D00F0 */  ld    $sp, 0xf0($k0)
/* 0115D0 700109D0 DF5E00F8 */  ld    $fp, 0xf8($k0)
/* 0115D4 700109D4 DF5F0100 */  ld    $ra, 0x100($k0)
/* 0115D8 700109D8 8F5B011C */  lw    $k1, 0x11c($k0)
/* 0115DC 700109DC 409B7000 */  mtc0  $k1, $14
/* 0115E0 700109E0 8F5B0018 */  lw    $k1, 0x18($k0)
/* 0115E4 700109E4 13600013 */  beqz  $k1, .L70010A34
/* 0115E8 700109E8 00000000 */   nop   
/* 0115EC 700109EC 8F5B012C */  lw    $k1, 0x12c($k0)
/* 0115F0 700109F0 44DBF800 */  ctc1  $k1, $31
/* 0115F4 700109F4 D7400130 */  ldc1  $f0, 0x130($k0)
/* 0115F8 700109F8 D7420138 */  ldc1  $f2, 0x138($k0)
/* 0115FC 700109FC D7440140 */  ldc1  $f4, 0x140($k0)
/* 011600 70010A00 D7460148 */  ldc1  $f6, 0x148($k0)
/* 011604 70010A04 D7480150 */  ldc1  $f8, 0x150($k0)
/* 011608 70010A08 D74A0158 */  ldc1  $f10, 0x158($k0)
/* 01160C 70010A0C D74C0160 */  ldc1  $f12, 0x160($k0)
/* 011610 70010A10 D74E0168 */  ldc1  $f14, 0x168($k0)
/* 011614 70010A14 D7500170 */  ldc1  $f16, 0x170($k0)
/* 011618 70010A18 D7520178 */  ldc1  $f18, 0x178($k0)
/* 01161C 70010A1C D7540180 */  ldc1  $f20, 0x180($k0)
/* 011620 70010A20 D7560188 */  ldc1  $f22, 0x188($k0)
/* 011624 70010A24 D7580190 */  ldc1  $f24, 0x190($k0)
/* 011628 70010A28 D75A0198 */  ldc1  $f26, 0x198($k0)
/* 01162C 70010A2C D75C01A0 */  ldc1  $f28, 0x1a0($k0)
/* 011630 70010A30 D75E01A8 */  ldc1  $f30, 0x1a8($k0)
.L70010A34:
/* 011634 70010A34 8F5B0128 */  lw    $k1, 0x128($k0)
/* 011638 70010A38 3C1A8002 */  lui   $k0, %hi(__OSGlobalIntMask) # $k0, 0x8002
/* 01163C 70010A3C 275A698C */  addiu $k0, %lo(__OSGlobalIntMask) # addiu $k0, $k0, 0x698c
/* 011640 70010A40 8F5A0000 */  lw    $k0, ($k0)
/* 011644 70010A44 001AD402 */  srl   $k0, $k0, 0x10
/* 011648 70010A48 037AD824 */  and   $k1, $k1, $k0
/* 01164C 70010A4C 001BD840 */  sll   $k1, $k1, 1
/* 011650 70010A50 3C1A8003 */  lui   $k0, %hi(__osRcpImTable) # $k0, 0x8003
/* 011654 70010A54 275A93A0 */  addiu $k0, %lo(__osRcpImTable) # addiu $k0, $k0, -0x6c60
/* 011658 70010A58 037AD821 */  addu  $k1, $k1, $k0
/* 01165C 70010A5C 977B0000 */  lhu   $k1, ($k1)
/* 011660 70010A60 3C1AA430 */  lui   $k0, %hi(0xA430000C) # $k0, 0xa430
/* 011664 70010A64 275A000C */  addiu $k0, %lo(0xA430000C) # addiu $k0, $k0, 0xc
/* 011668 70010A68 AF5B0000 */  sw    $k1, ($k0)
/* 01166C 70010A6C 00000000 */  nop   
/* 011670 70010A70 00000000 */  nop   
/* 011674 70010A74 00000000 */  nop   
/* 011678 70010A78 00000000 */  nop   
/* 01167C 70010A7C 42000018 */  eret  
glabel __osCleanupThread
/* 011680 70010A80 0C006ED8 */  jal   osDestroyThread
/* 011684 70010A84 00002025 */   move  $a0, $zero


.section .data
/*80027704*/
glabel __osHwIntTable
.word          0,         0,         0,         0
.word          0,         0,         0,         0

.section .rodata
/*80029440*/
glabel __osIntOffTable
.byte    0,0x14,0x18,0x18,0x1C,0x1C,0x1C,0x1C
.byte 0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
.byte    0,   4,   8,   8, 0xC, 0xC, 0xC, 0xC
.byte 0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10

/*80029460*/
glabel __osIntTable
.word redispatch
.word swl
.word sw2
.word rcp
.word cart
.word prenmi
.word IP6_Hdlr
.word IP7_Hdlr
.word counter
